
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    {% load static %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>PAF Generator &mdash; Foxconn Smart Office</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Foxconn PAF Generator" />
    <meta name="author" content="Josua Ataansuyi" />



    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico">

    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="{% static 'smart_hr/css/animate.css' %}">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="{% static 'smart_hr/css/icomoon.css' %}">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="{% static 'smart_hr/css/bootstrap.css' %}">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="{% static 'smart_hr/css/flexslider.css' %}">
    <!-- Theme style  -->
    <link rel="stylesheet" href="{% static 'smart_hr/css/style.css' %}">
    <!-- Datatable -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">
    <!-- Fonts Awesome-->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
    <!-- Toastr notification -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet"/>



    <!-- Modernizr JS -->
    <script src="{% static 'smart_hr/js1/modernizr-2.6.2.min.js' %}"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="{% static 'smart_hr/js/respond.min.js' %}"></script>
    <![endif]-->
</head>
<style>
    tr {
        cursor: pointer;
    }
</style>
<body>
<div id="smart_hr_page">
    <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
    <aside id="fh5co-aside" role="complementary" class="border js-fullheight">
        <h5 class="text-center">Welcome, {{ request.session.full_name }}</h5>
        <h1 id="fh5co-logo">PDF Generator (Foxconn)</h1>
        <nav id="fh5co-main-menu" role="navigation">
            <ul>
                <li><a href="{% url 'smart_office_dashboard' %}">Smart Office</a></li>
                <li><a href="{% url 'paf_create' %}">Create New PAF</a></li>
                <li class="fh5co-active"><a href="{% url 'paf_list' %}">List ALL PAF</a></li>
            </ul>
        </nav>

        <div class="fh5co-footer">
            <p><small>&copy; {% now "Y" %} Foxconn IT Software Development </span> </small></p>

        </div>


    </aside>

    <div id="fh5co-main">

        <div class="fh5co-narrow-content animate-box" data-animate-effect="fadeInLeft">
            <div class="row">
                <div class="col-md-12">
                    <h2>Personnel Action Form Listing</h2>
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <table id="paf_table" class="table table-striped table-hover responsive" width="100%">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Action Type</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Position</th>
                    <th>Department</th>
                    <th>Business Unit</th>
                    <th>Employment Status</th>
                    <th>Hire Date</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

<!-- jQuery -->
<script src="{% static 'smart_hr/js1/jquery.min.js' %}"></script>
<!-- jQuery Easing -->
<script src="{% static 'smart_hr/js1/jquery.easing.1.3.js' %}"></script>
<!-- Bootstrap -->
<script src="{% static 'smart_hr/js1/bootstrap.min.js' %}"></script>
<!-- Waypoints -->
<script src="{% static 'smart_hr/js1/jquery.waypoints.min.js' %}"></script>
<!-- Flexslider -->
<script src="{% static 'smart_hr/js1/jquery.flexslider-min.js' %}"></script>
<!-- Google Map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCefOgb1ZWqYtj7raVSmN4PL2WkTrc-KyA&sensor=false"></script>
<script src="{% static 'smart_hr/js1/google_map.js' %}"></script>
<!-- DataTable -->
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<!-- Toastr notification -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<!-- Bootbox -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.4.0/bootbox.min.js"></script>
<!-- MAIN JS -->
<script src="{% static 'smart_hr/js1/main.js' %}"></script>

<!-- Written by Zaawar Ejaz -->
<script>
    {# Datatable #}
    $(function() {
        let paf_table = $('#paf_table').DataTable({
            ajax: {
                url: "{% url 'paf_json' %}",
                error: function (xhr, error, code)
                {
                    bootbox.alert("Error getting data from the database.")
                }
            },
            responsive: {
                details: {
                    display: $.fn.dataTable.Responsive.display.childRowImmediate,
                    type: 'none',
                    target: ''
                }
            },
            order: [[ 0, "desc" ]],
            columns: [
                { "data": "pafID" },
                { "data": "actionType" },
                {
                    "render": function (data, type, row) {
                        if(row['emp_middleName'])
                            return row['emp_firstName'] + " " + row['emp_middleName'] + " " + row['emp_lastName'];
                        else
                            return row['emp_firstName'] + " " + row['emp_lastName'];
                    }
                },
                { "data": "emp_email" },
                { "data": "emp_phone" },
                { "data": "position" },
                { "data": "department" },
                { "data": "unit" },
                { "data": "employmentType" },
                { "data": "dateOfHire" },
            ]
        });
    });

    {# Toastr Notification #}
    $(function() {
        toastr.options = {
            "positionClass": "toast-bottom-right",
            "timeOut": 5000,
            "preventDuplicates": true,
            "newestOnTop": true,
        };

        {% for message in messages %}
            toastr.{{ message.tags }}("{{ message }}");
        {% endfor %}
    });
</script>
</body>
</html>
